<div class="row">
  {{ range .Page.Sections }}
  <div class="col-md-6 col-lg-4 mb-4">
    <a href="{{ .RelPermalink }}" class="book-link">
      <div class="book-card">
        <div class="book-card-header">
          {{ with .Params.state }}
          <span class="book-tag">{{ . }}</span>
          {{ end }}
          <i class="fas fa-star book-star"></i>
          <div class="my-3">
            <i class="{{ .Params.cover_icon | default "fas fa-book" }} fa-3x text-primary"></i>
          </div>
          <h3 class="book-title">{{ .LinkTitle | default .Title }}</h3>
        </div>
        <div class="book-card-body">
          <div class="book-meta">
            {{ with .Date }}
            <i class="far fa-calendar-alt me-1"></i> {{ .Format "2006-01-02" }}
            <span class="mx-2">|</span>
            {{ end }}
            {{ with .Params.author }}
            <i class="far fa-user me-1"></i> {{ . }}
            {{ end }}
          </div>
          <div class="book-desc">
            {{ .Description | default "暂无简介" }}
          </div>
        </div>
      </div>
    </a>
  </div>
  {{ end }}

  <!-- 占位卡片：指引用户如何添加 -->
  <div class="col-md-6 col-lg-4 mb-4">
    <div class="book-card" style="opacity: 0.6; border-style: dashed;">
      <div class="book-card-header" style="background: #f9fafb;">
        <div class="my-3">
          <i class="fas fa-plus-circle fa-3x text-secondary"></i>
        </div>
        <h3 class="book-title">添加新书</h3>
      </div>
      <div class="book-card-body text-center d-flex align-items-center justify-content-center">
        <div class="book-desc">
          在 <code>content/zh/docs/</code> 下新建目录即可自动出现
        </div>
      </div>
    </div>
  </div>
</div>

<style>
/* 移动端适配优化 */
.book-card {
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
    background: #fff;
    height: 100%;
    display: flex;
    flex-direction: column;
}
.book-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}
.book-card-header {
    background: #dbeafe;
    padding: 1.5rem;
    text-align: center;
    position: relative;
    border-bottom: 1px solid #e5e7eb;
}
.book-tag {
    position: absolute;
    top: 10px;
    left: 10px;
    background: #2563eb;
    color: white;
    font-size: 0.75rem;
    padding: 2px 8px;
    border-radius: 4px;
}
.book-star {
    position: absolute;
    top: 10px;
    right: 10px;
    color: #fbbf24;
}
.book-title {
    font-weight: bold;
    font-size: 1.1rem;
    margin-top: 0.5rem;
    color: #1e293b;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
.book-card-body {
    padding: 1.25rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}
.book-meta {
    font-size: 0.875rem;
    color: #64748b;
    margin-bottom: 0.75rem;
}
.book-desc {
    font-size: 0.9rem;
    color: #334155;
    line-height: 1.5;
    margin-bottom: 1rem;
    flex-grow: 1;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}
.book-link {
    text-decoration: none;
    color: inherit;
    display: block;
    height: 100%;
}
.book-link:hover {
    text-decoration: none;
}
</style>
